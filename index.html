<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-white shadow-sm">
        <div class="container px-4">
            <a class="navbar-brand text-primary font-weight-bold" href="#">Your Logo</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#features">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <button class="btn btn-primary ml-2" onclick="showAuthModal()">Sign In</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Auth Modal -->
    <div class="modal fade" id="authModal" tabindex="-1" role="dialog" aria-labelledby="authModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body p-0">
                    <div class="card border-0">
                        <div class="card-body px-4 py-3">
                            <button type="button" class="close position-absolute" style="right: 1rem; top: 1rem;" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            
                            <!-- Login Form -->
                            <form id="frmLogin">
                                <h1 class="text-center text-primary h2 mb-2">Welcome</h1>
                                <h3 class="text-center h4 mb-4">Sign In</h3>
                                <div class="form-group mb-3">
                                    <label for="txtEmail" class="mb-1">Email</label>
                                    <input type="email" id="txtEmail" class="form-control" placeholder="Enter your email">
                                </div>
                                <div class="form-group mb-4">
                                    <label for="txtPassword" class="mb-1">Password</label>
                                    <input type="password" id="txtPassword" class="form-control" placeholder="Enter your password">
                                </div>
                                <button id="btnLogin" type="button" class="btn btn-primary btn-lg col-12 mb-2">Sign In</button>
                                <button id="btnSwapRegister" type="button" class="btn btn-link col-12">New here? Create an account</button>
                            </form>

                            <!-- Registration Form -->
                            <form id="frmRegister" style="display:none;">
                                <h1 class="text-center text-primary h2 mb-2">Welcome</h1>
                                <h3 class="text-center h4 mb-4">Create Your Account</h3>
                                <div class="form-group mb-3">
                                    <label for="txtFirstName" class="mb-1">First Name</label>
                                    <input type="text" id="txtFirstName" class="form-control" placeholder="Enter your first name">
                                </div>
                                <div class="form-group mb-3">
                                    <label for="txtLastName" class="mb-1">Last Name</label>
                                    <input type="text" id="txtLastName" class="form-control" placeholder="Enter your last name">
                                </div>
                                <div class="form-group mb-3">
                                    <label for="txtRegEmail" class="mb-1">Email</label>
                                    <input type="email" id="txtRegEmail" class="form-control" placeholder="Enter your .edu email">
                                    <small class="form-text text-muted">Please use your university email address</small>
                                </div>
                                <div class="form-group mb-3">
                                    <label class="mb-1">Account Type</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="userType" id="studentType" value="student" checked>
                                        <label class="form-check-label" for="studentType">Student</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="userType" id="teacherType" value="teacher">
                                        <label class="form-check-label" for="teacherType">Teacher</label>
                                    </div>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="txtRegPassword" class="mb-1">Password</label>
                                    <input type="password" id="txtRegPassword" class="form-control" placeholder="Create a password">
                                </div>
                                <div class="form-group mb-4">
                                    <label for="txtConfirmPassword" class="mb-1">Confirm Password</label>
                                    <input type="password" id="txtConfirmPassword" class="form-control" placeholder="Confirm your password">
                                </div>
                                <button id="btnRegister" type="button" class="btn btn-primary btn-lg col-12 mb-2">Create Account</button>
                                <button id="btnSwapLogin" type="button" class="btn btn-link col-12">Already have an account? Sign in</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <section class="bg-primary text-white py-5 mt-5">
        <div class="container px-4">
            <div class="row align-items-center">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <h1 class="display-4 font-weight-bold mb-3">Your Headline Here</h1>
                    <p class="lead mb-4">A brief description of your product or service goes here. Keep it simple and engaging.</p>
                    <div class="d-flex flex-column flex-sm-row">
                        <a href="#" class="btn btn-light btn-lg mb-2 mb-sm-0 mr-sm-3">Get Started</a>
                        <a href="#" class="btn btn-outline-light btn-lg">Learn More</a>
                    </div>
                    <!-- Dev Buttons -->
                    <div class="mt-4">
                        <button class="btn btn-warning mr-2" onclick="showDashboard('student')">Student View (DEV)</button>
                        <button class="btn btn-warning" onclick="showDashboard('teacher')">Teacher View (DEV)</button>
                    </div>
                </div>
                <div class="col-lg-6">
                    <img src="https://placehold.co/600x400" alt="Hero Image" class="img-fluid rounded shadow">
                </div>
            </div>
        </div>
    </section>

    <section id="features" class="py-5">
        <div class="container px-4">
            <h2 class="text-center mb-5">Key Features</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-rocket fa-3x text-primary mb-3"></i>
                            <h3 class="card-title h4">Feature One</h3>
                            <p class="card-text">Description of your first key feature goes here.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-shield-alt fa-3x text-primary mb-3"></i>
                            <h3 class="card-title h4">Feature Two</h3>
                            <p class="card-text">Description of your second key feature goes here.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body text-center p-4">
                            <i class="fas fa-sync fa-3x text-primary mb-3"></i>
                            <h3 class="card-title h4">Feature Three</h3>
                            <p class="card-text">Description of your third key feature goes here.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="bg-light py-5">
        <div class="container px-4 text-center">
            <h2 class="mb-4">Ready to Get Started?</h2>
            <p class="lead mb-4">Join our community and experience the difference.</p>
            <button class="btn btn-primary btn-lg" onclick="showAuthModal(true)">Create Your Account</button>
        </div>
    </section>

    <footer class="bg-dark text-light py-4">
        <div class="container px-4">
            <div class="row">
                <div class="col-md-6 mb-3 mb-md-0">
                    <h5 class="mb-3">Your Company</h5>
                    <p class="mb-0">Your company tagline goes here.</p>
                </div>
                <div class="col-md-6 text-md-right">
                    <h5 class="mb-3">Contact Us</h5>
                    <p class="mb-0">Email: contact@example.com<br>Phone: (555) 123-4567</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Student Dashboard Page -->
    <div id="studentDashboardPage" style="display:none;">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="#" onclick="showLanding()">Your Logo</a>
                <div class="navbar-nav ml-auto">
                    <button class="btn btn-warning mr-2" onclick="switchToTeacherView()">Switch to Teacher View (DEV)</button>
                    <button class="btn btn-outline-light" onclick="signOut()">Sign Out</button>
                </div>
            </div>
        </nav>
        <div class="container py-4">
            <button class="btn btn-secondary mb-3" onclick="showLanding()">&larr; Back to Landing Page</button>
            <div class="card shadow">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h1 class="mb-0">Student Dashboard</h1>
                        <button class="btn btn-warning" onclick="switchToTeacherView()">Switch to Teacher View (DEV)</button>
                    </div>
                    <ul class="nav nav-tabs" id="studentTabs" role="tablist">
                        <li class="nav-item"><a class="nav-link active" id="student-overview-tab" data-toggle="tab" href="#student-overview" role="tab">Overview</a></li>
                        <li class="nav-item"><a class="nav-link" id="student-courses-tab" data-toggle="tab" href="#student-courses" role="tab">Courses</a></li>
                        <li class="nav-item"><a class="nav-link" id="student-teams-tab" data-toggle="tab" href="#student-teams" role="tab">Teams</a></li>
                        <li class="nav-item"><a class="nav-link" id="student-reviews-tab" data-toggle="tab" href="#student-reviews" role="tab">Reviews</a></li>
                        <li class="nav-item"><a class="nav-link" id="student-reports-tab" data-toggle="tab" href="#student-reports" role="tab">Reports</a></li>
                    </ul>
                    <div class="tab-content pt-3">
                        <!-- Student Overview Tab -->
                        <div class="tab-pane fade show active" id="student-overview" role="tabpanel">
                            <h3>Welcome, <span id="studentUserName">Student</span>!</h3>
                            <p>This is your student dashboard. Use the tabs to manage your courses, teams, and reviews.</p>
                            <ul class="list-group mb-3">
                                <li class="list-group-item d-flex justify-content-between align-items-center">Courses Enrolled <span class="badge badge-primary badge-pill">2</span></li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">Teams <span class="badge badge-success badge-pill">1</span></li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">Pending Reviews <span class="badge badge-warning badge-pill">1</span></li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">Completed Reviews <span class="badge badge-info badge-pill">3</span></li>
                            </ul>
                        </div>
                        <!-- Student Courses Tab -->
                        <div class="tab-pane fade" id="student-courses" role="tabpanel">
                            <h3>My Courses</h3>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Enter course code to enroll">
                                <div class="input-group-append">
                                    <button class="btn btn-primary" type="button">Enroll</button>
                                </div>
                            </div>
                            <table class="table table-bordered table-hover">
                                <thead class="thead-light">
                                    <tr>
                                        <th>Course Name</th>
                                        <th>Course Code</th>
                                        <th>CRN</th>
                                        <th>Instructor</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Intro to Web Dev</td>
                                        <td>CSCI101</td>
                                        <td>12345</td>
                                        <td>Dr. Smith</td>
                                    </tr>
                                    <tr>
                                        <td>Software Engineering</td>
                                        <td>CSCI202</td>
                                        <td>23456</td>
                                        <td>Prof. Lee</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Student Teams Tab -->
                        <div class="tab-pane fade" id="student-teams" role="tabpanel">
                            <h3>My Teams</h3>
                            <table class="table table-bordered table-hover">
                                <thead class="thead-light">
                                    <tr>
                                        <th>Team Name</th>
                                        <th>Course</th>
                                        <th>Members</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Team Alpha</td>
                                        <td>CSCI101</td>
                                        <td>Alice, Bob, Carol</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Student Reviews Tab -->
                        <div class="tab-pane fade" id="student-reviews" role="tabpanel">
                            <h3>Reviews</h3>
                            <div class="card mb-4">
                                <div class="card-header bg-warning text-white">
                                    <h5 class="card-title mb-0">Pending Reviews</h5>
                                </div>
                                <div class="card-body">
                                    <div class="list-group">
                                        <a href="#" class="list-group-item list-group-item-action">
                                            <div class="d-flex w-100 justify-content-between">
                                                <h5 class="mb-1">Teamwork Feedback</h5>
                                                <small>Due: 2024-05-10</small>
                                            </div>
                                            <p class="mb-1">Please provide feedback on your team members' performance.</p>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="badge badge-info">Private</span>
                                                <button class="btn btn-primary btn-sm">Complete Review</button>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header bg-success text-white">
                                    <h5 class="card-title mb-0">Completed Reviews</h5>
                                </div>
                                <div class="card-body">
                                    <div class="list-group">
                                        <a href="#" class="list-group-item list-group-item-action">
                                            <div class="d-flex w-100 justify-content-between">
                                                <h5 class="mb-1">Project Reflection</h5>
                                                <small>Completed: 2024-04-20</small>
                                            </div>
                                            <p class="mb-1">Reflect on your project experience and team collaboration.</p>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="badge badge-success">Public</span>
                                                <button class="btn btn-secondary btn-sm">View Feedback</button>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Student Reports Tab -->
                        <div class="tab-pane fade" id="student-reports" role="tabpanel">
                            <h3>My Reports</h3>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card mb-4">
                                        <div class="card-header bg-primary text-white">
                                            <h5 class="card-title mb-0">Overall Performance</h5>
                                        </div>
                                        <div class="card-body">
                                            <h4 class="text-center mb-4">88%</h4>
                                            <div class="progress mb-3">
                                                <div class="progress-bar" role="progressbar" style="width: 88%"></div>
                                            </div>
                                            <p class="text-center">Your current average across all reviews</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-header bg-info text-white">
                                            <h5 class="card-title mb-0">Recent Feedback</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="list-group">
                                                <div class="list-group-item">
                                                    <h6 class="mb-1">Team Collaboration</h6>
                                                    <p class="mb-1">"Excellent team player, always contributes valuable insights."</p>
                                                    <small>From: Team Alpha Review</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Teacher Dashboard Page -->
    <div id="teacherDashboardPage" style="display:none;">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="#" onclick="showLanding()">Your Logo</a>
                <div class="navbar-nav ml-auto">
                    <button class="btn btn-warning mr-2" onclick="switchToStudentView()">Switch to Student View (DEV)</button>
                    <button class="btn btn-outline-light" onclick="signOut()">Sign Out</button>
                </div>
            </div>
        </nav>
        <div class="container py-4">
            <button class="btn btn-secondary mb-3" onclick="showLanding()">&larr; Back to Landing Page</button>
            <div class="card shadow">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h1 class="mb-0">Instructor Dashboard</h1>
                        <button class="btn btn-warning" onclick="switchToStudentView()">Switch to Student View (DEV)</button>
                    </div>
                    <ul class="nav nav-tabs" id="teacherTabs" role="tablist">
                        <li class="nav-item"><a class="nav-link active" id="teacher-overview-tab" data-toggle="tab" href="#teacher-overview" role="tab">Overview</a></li>
                        <li class="nav-item"><a class="nav-link" id="teacher-courses-tab" data-toggle="tab" href="#teacher-courses" role="tab">Courses</a></li>
                        <li class="nav-item"><a class="nav-link" id="teacher-teams-tab" data-toggle="tab" href="#teacher-teams" role="tab">Teams</a></li>
                        <li class="nav-item"><a class="nav-link" id="teacher-reviews-tab" data-toggle="tab" href="#teacher-reviews" role="tab">Reviews</a></li>
                        <li class="nav-item"><a class="nav-link" id="teacher-reports-tab" data-toggle="tab" href="#teacher-reports" role="tab">Reports</a></li>
                    </ul>
                    <div class="tab-content pt-3">
                        <!-- Teacher Overview Tab -->
                        <div class="tab-pane fade show active" id="teacher-overview" role="tabpanel">
                            <h3>Welcome, <span id="teacherUserName">Instructor</span>!</h3>
                            <p>This is your instructor dashboard. Use the tabs to manage your courses, teams, and reviews.</p>
                            <ul class="list-group mb-3">
                                <li class="list-group-item d-flex justify-content-between align-items-center">Active Courses <span class="badge badge-primary badge-pill">2</span></li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">Total Students <span class="badge badge-success badge-pill">55</span></li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">Pending Reviews <span class="badge badge-warning badge-pill">3</span></li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">Completed Reviews <span class="badge badge-info badge-pill">12</span></li>
                            </ul>
                        </div>
                        <!-- Teacher Courses Tab -->
                        <div class="tab-pane fade" id="teacher-courses" role="tabpanel">
                            <h3>My Courses</h3>
                            <button class="btn btn-primary mb-3" data-toggle="modal" data-target="#createCourseModal">Create Course</button>
                            <table class="table table-bordered table-hover">
                                <thead class="thead-light">
                                    <tr>
                                        <th>Course Name</th>
                                        <th>Course Code</th>
                                        <th>CRN</th>
                                        <th>Total Students</th>
                                    </tr>
                                </thead>
                                <tbody id="teacherCoursesTableBody">
                                    <!-- Course rows will be loaded dynamically -->
                                </tbody>
                            </table>
                            <!-- Create Course Modal -->
                            <div class="modal fade" id="createCourseModal" tabindex="-1" role="dialog">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title">Create Course</h5>
                                            <button type="button" class="close" data-dismiss="modal">
                                                <span>&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form id="createCourseForm">
                                                <div class="form-group">
                                                    <label>Course Name</label>
                                                    <input type="text" id="createCourseName" class="form-control" required>
                                                </div>
                                                <div class="form-group">
                                                    <label>Course Code</label>
                                                    <input type="text" id="createCourseCode" class="form-control" required>
                                                </div>
                                                <div class="form-group">
                                                    <label>CRN</label>
                                                    <input type="text" id="createCourseCRN" class="form-control" required>
                                                </div>
                                                <button type="submit" class="btn btn-primary">Create</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Teacher Teams Tab -->
                        <div class="tab-pane fade" id="teacher-teams" role="tabpanel">
                            <h3>Course Teams</h3>
                            <button class="btn btn-primary mb-3" data-toggle="modal" data-target="#createTeamModal">Create Team</button>
                            <table class="table table-bordered table-hover">
                                <thead class="thead-light">
                                    <tr>
                                        <th>Team Name</th>
                                        <th>Course</th>
                                        <th>Members</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Team Alpha</td>
                                        <td>CSCI101</td>
                                        <td>Alice, Bob, Carol</td>
                                    </tr>
                                </tbody>
                            </table>
                            <!-- Create Team Modal -->
                            <div class="modal fade" id="createTeamModal" tabindex="-1" role="dialog">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title">Create Team</h5>
                                            <button type="button" class="close" data-dismiss="modal">
                                                <span>&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form id="createTeamForm">
                                                <div class="form-group">
                                                    <label>Team Name</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                                <div class="form-group">
                                                    <label>Course</label>
                                                    <select class="form-control" required>
                                                        <option>CSCI101 - Intro to Web Dev</option>
                                                        <option>CSCI202 - Software Engineering</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label>Select Members</label>
                                                    <select class="form-control" multiple required>
                                                        <option>Alice</option>
                                                        <option>Bob</option>
                                                        <option>Carol</option>
                                                        <option>Dave</option>
                                                    </select>
                                                </div>
                                                <button type="submit" class="btn btn-primary">Create</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Teacher Reviews Tab -->
                        <div class="tab-pane fade" id="teacher-reviews" role="tabpanel">
                            <h3>Reviews</h3>
                            <button class="btn btn-primary mb-3" data-toggle="modal" data-target="#createReviewModal">Create Review</button>
                            <div class="card mb-4">
                                <div class="card-header bg-warning text-white">
                                    <h5 class="card-title mb-0">Pending Reviews</h5>
                                </div>
                                <div class="card-body">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Review Name</th>
                                                <th>Course</th>
                                                <th>Due Date</th>
                                                <th>Visibility</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Teamwork Feedback</td>
                                                <td>CSCI101</td>
                                                <td>2024-05-10</td>
                                                <td><span class="badge badge-info">Private</span></td>
                                                <td><span class="badge badge-warning">Pending</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header bg-success text-white">
                                    <h5 class="card-title mb-0">Completed Reviews</h5>
                                </div>
                                <div class="card-body">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Review Name</th>
                                                <th>Course</th>
                                                <th>Completion Date</th>
                                                <th>Visibility</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Project Reflection</td>
                                                <td>CSCI202</td>
                                                <td>2024-04-20</td>
                                                <td><span class="badge badge-success">Public</span></td>
                                                <td><span class="badge badge-success">Completed</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <!-- Create Review Modal -->
                            <div class="modal fade" id="createReviewModal" tabindex="-1" role="dialog">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title">Create Review</h5>
                                            <button type="button" class="close" data-dismiss="modal">
                                                <span>&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form id="createReviewForm">
                                                <div class="form-group">
                                                    <label>Review Name</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                                <div class="form-group">
                                                    <label>Course</label>
                                                    <select class="form-control" required>
                                                        <option>CSCI101 - Intro to Web Dev</option>
                                                        <option>CSCI202 - Software Engineering</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label>Due Date</label>
                                                    <input type="date" class="form-control" required>
                                                </div>
                                                <div class="form-group">
                                                    <label>Visibility</label>
                                                    <select class="form-control" required>
                                                        <option value="public">Public</option>
                                                        <option value="private">Private</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label>Question Type</label>
                                                    <select class="form-control" required>
                                                        <option>Likert Scale</option>
                                                        <option>Multiple Choice</option>
                                                        <option>Short Answer</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label>Question</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                                <button type="button" class="btn btn-secondary" onclick="addQuestion()">Add Question</button>
                                                <button type="submit" class="btn btn-primary">Create Review</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Teacher Reports Tab -->
                        <div class="tab-pane fade" id="teacher-reports" role="tabpanel">
                            <h3>Reports</h3>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card mb-4">
                                        <div class="card-header bg-primary text-white">
                                            <h5 class="card-title mb-0">Student Averages</h5>
                                        </div>
                                        <div class="card-body">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>Student</th>
                                                        <th>Average</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Alice</td>
                                                        <td>92%</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Bob</td>
                                                        <td>88%</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Carol</td>
                                                        <td>95%</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card">
                                        <div class="card-header bg-info text-white">
                                            <h5 class="card-title mb-0">Class Metrics</h5>
                                        </div>
                                        <div class="card-body">
                                            <ul class="list-group">
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Average
                                                    <span class="badge badge-primary badge-pill">91.7%</span>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Median
                                                    <span class="badge badge-primary badge-pill">92%</span>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Standard Deviation
                                                    <span class="badge badge-primary badge-pill">3.5</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        // Function to show the auth modal
        function showAuthModal(showRegister = false) {
            $('#authModal').modal('show');
            if (showRegister) {
                $('#frmLogin').hide();
                $('#frmRegister').show();
            } else {
                $('#frmLogin').show();
                $('#frmRegister').hide();
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Form elements
            const loginForm = document.getElementById('frmLogin');
            const registerForm = document.getElementById('frmRegister');
            const btnLogin = document.getElementById('btnLogin');
            const btnRegister = document.getElementById('btnRegister');
            const btnSwapRegister = document.getElementById('btnSwapRegister');
            const btnSwapLogin = document.getElementById('btnSwapLogin');
            const authModal = document.getElementById('authModal');

            // Teacher dashboard specific elements
            const teacherCoursesTabLink = document.getElementById('teacher-courses-tab');

            // Input fields
            const txtEmail = document.getElementById('txtEmail');
            const txtPassword = document.getElementById('txtPassword');
            const txtRegEmail = document.getElementById('txtRegEmail');
            const txtRegPassword = document.getElementById('txtRegPassword');
            const txtConfirmPassword = document.getElementById('txtConfirmPassword');
            const txtFirstName = document.getElementById('txtFirstName');
            const txtLastName = document.getElementById('txtLastName');

            // Get reference to the create course form
            const createCourseForm = document.getElementById('createCourseForm');

            // Event Listeners
            btnLogin.addEventListener('click', handleLogin);
            btnRegister.addEventListener('click', handleRegister);
            btnSwapRegister.addEventListener('click', () => swapForms(loginForm, registerForm));
            btnSwapLogin.addEventListener('click', () => swapForms(registerForm, loginForm));

            // Add event listener for the create course form submission
            if (createCourseForm) {
                createCourseForm.addEventListener('submit', handleCreateCourse);
            }

            // Add event listener for when the teacher's courses tab is shown
            if (teacherCoursesTabLink) {
                 // Using jQuery for Bootstrap event handling as Bootstrap JS depends on it
                 $(teacherCoursesTabLink).on('shown.bs.tab', function (e) {
                     console.log("Teacher courses tab shown, loading courses...");
                     loadCourses();
                 });
            }

            // Functions
            function handleLogin() {
                const email = txtEmail.value.trim();
                const password = txtPassword.value.trim();

                if (!validateEmail(email)) {
                    showError("Please enter a valid email address.");
                    return;
                }
                if (password.length < 6) {
                    showError("Your password needs to be at least 6 characters long.");
                    return;
                }
                alert("Welcome back! You've successfully signed in.");
                $('#authModal').modal('hide');
            }

            function handleRegister() {
                const email = txtRegEmail.value.trim();
                const password = txtRegPassword.value.trim();
                const confirmPassword = txtConfirmPassword.value.trim();
                const firstName = txtFirstName.value.trim();
                const lastName = txtLastName.value.trim();
                const userType = document.querySelector('input[name="userType"]:checked').value;

                if (!validateEmail(email)) {
                    showError("Please enter a valid email address.");
                    return;
                }
                if (!validateEduEmail(email)) {
                    showError("Please use your university email address (.edu).");
                    return;
                }
                if (password.length < 6) {
                    showError("Your password needs to be at least 6 characters long.");
                    return;
                }
                if (password !== confirmPassword) {
                    showError("The passwords don't match. Please try again.");
                    return;
                }
                if (firstName.length < 1 || lastName.length < 1) {
                    showError("Please enter both your first and last name.");
                    return;
                }
                alert(`Great! Your ${userType} account has been created successfully.`);
                $('#authModal').modal('hide');
            }

            function swapForms(hideForm, showForm) {
                hideForm.style.display = 'none';
                showForm.style.display = 'block';
            }

            function validateEmail(email) {
                return /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(email);
            }

            function validateEduEmail(email) {
                return /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.edu$/.test(email);
            }

            function showError(message) {
                Swal.fire({ title: "Oops!", text: message, icon: "error" });
            }

            // Function to populate the teacher courses table
            function populateTeacherCoursesTable(courses) {
                 const tableBody = document.getElementById('teacherCoursesTableBody');
                 if (!tableBody) {
                     console.error("Teacher courses table body not found!");
                     return;
                 }
                 tableBody.innerHTML = ''; // Clear existing rows
                 if (courses.length === 0) {
                     const row = tableBody.insertRow();
                     const cell = row.insertCell();
                     cell.colSpan = 4; // Span across all columns
                     cell.textContent = 'No courses created yet.';
                     cell.style.textAlign = 'center';
                 } else {
                     courses.forEach(course => {
                         const row = tableBody.insertRow();
                         row.insertCell().textContent = course.name;
                         row.insertCell().textContent = course.code;
                         row.insertCell().textContent = course.crn;
                         // Assuming 'students' count is part of the JSON structure later
                         row.insertCell().textContent = course.students !== undefined ? course.students : 0;
                     });
                 }
            }

            // Function to load courses from JSON
            async function loadCourses() {
                try {
                    // *** NOTE: This fetch will only work if you run index.html via a local server ***
                    // *** Direct file access (file:///) will likely fail due to CORS/security policies ***
                    const response = await fetch('courses.json'); // Assumes courses.json is in the same directory or served at the root
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const courses = await response.json();
                    populateTeacherCoursesTable(courses);
                } catch (error) {
                    console.error('Error loading courses:', error);
                     // Display error in table or show alert
                     const tableBody = document.getElementById('teacherCoursesTableBody');
                     if (tableBody) {
                         tableBody.innerHTML = ''; // Clear existing rows
                         const row = tableBody.insertRow();
                         const cell = row.insertCell();
                         cell.colSpan = 4;
                         cell.textContent = 'Error loading courses. See console for details.';
                         cell.style.textAlign = 'center';
                         cell.style.color = 'red';
                     }
                     showError('Could not load course data. Please ensure courses.json exists and the page is served correctly.');
                }
            }

            // Handler for creating a course
            function handleCreateCourse(event) {
                event.preventDefault(); // Prevent default form submission (page refresh)
                console.log("Create Course form submitted, default refresh prevented.");

                // Get form data using the new IDs
                const courseNameInput = document.getElementById('createCourseName');
                const courseCodeInput = document.getElementById('createCourseCode');
                const courseCRNInput = document.getElementById('createCourseCRN');

                const courseName = courseNameInput.value.trim();
                const courseCode = courseCodeInput.value.trim();
                const crn = courseCRNInput.value.trim();

                // Basic validation (ensure fields aren't empty after trimming)
                if (!courseName || !courseCode || !crn) {
                     showError("Please fill out all course fields.");
                     return;
                 }

                console.log('Course Data:', { courseName, courseCode, crn });

                // Find the table body in the teacher's courses tab
                const teacherCoursesTableBody = document.getElementById('teacherCoursesTableBody');

                if (teacherCoursesTableBody) {
                    // Create a new table row
                    const newRow = document.createElement('tr');

                    // Insert cells for the new course data
                    const nameCell = document.createElement('td');
                    nameCell.textContent = courseName;
                    newRow.appendChild(nameCell);

                    const codeCell = document.createElement('td');
                    codeCell.textContent = courseCode;
                    newRow.appendChild(codeCell);

                    const crnCell = document.createElement('td');
                    crnCell.textContent = crn;
                    newRow.appendChild(crnCell);

                    const studentsCell = document.createElement('td');
                    studentsCell.textContent = '0'; // Default to 0 students for a new course
                    newRow.appendChild(studentsCell);
                    
                     // Clear the form fields
                    courseNameInput.value = '';
                    courseCodeInput.value = '';
                    courseCRNInput.value = '';

                    // Close the modal
                    $('#createCourseModal').modal('hide');

                    // Show success message
                    Swal.fire({ title: "Success!", text: `Course '${courseName}' added.`, icon: "success" });

                    // Append the new row to the table body
                    teacherCoursesTableBody.appendChild(newRow);

                    // *** Backend Integration Needed ***
                    // The following line only adds visually; it doesn't save to courses.json
                    console.warn("Course added visually, but not saved to courses.json. Backend needed.");
                    // To save permanently, you would:
                    // 1. Create a new course object: const newCourse = { name: courseName, code: courseCode, crn: crn, students: 0 };
                    // 2. Send it to your backend: await fetch('/api/courses', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(newCourse) });
                    // 3. Optionally, reload courses after successful save: await loadCourses(); (or just rely on appending the row)
                 
                 } else {
                    console.error("Could not find the teacher's courses table body.");
                     showError("Could not update the course list.");
                }
            }
        });

        // Global functions for navigation
        function showDashboard(userType) {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
            
            // Hide all pages first
            document.getElementById('studentDashboardPage').style.display = 'none';
            document.getElementById('teacherDashboardPage').style.display = 'none';
            document.querySelectorAll('nav.navbar, section, footer').forEach(e => e.style.display = 'none');
            
            // Show appropriate dashboard
            if (userType === 'student') {
                document.getElementById('studentDashboardPage').style.display = 'block';
            } else if (userType === 'teacher') {
                document.getElementById('teacherDashboardPage').style.display = 'block';
                loadCourses(); // Load courses when teacher dashboard is shown
            }
        }

        function switchToTeacherView() {
            localStorage.setItem('userType', 'teacher');
            showDashboard('teacher'); // This already calls loadCourses
        }

        function switchToStudentView() {
            localStorage.setItem('userType', 'student');
            showDashboard('student');
        }

        function showLanding() {
            document.getElementById('studentDashboardPage').style.display = 'none';
            document.getElementById('teacherDashboardPage').style.display = 'none';
            document.querySelectorAll('nav.navbar, section, footer').forEach(e => e.style.display = '');
        }

        function signOut() {
            showLanding();
        }
    </script>
</body>
</html>
